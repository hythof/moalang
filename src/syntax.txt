# Syntax for moa
top: exp+
exp: atom (op2 exp)*
atom:
| ":" block
| "=>" block
| value suffix*
suffix:
| "(" top ")"
| "." id
value:
| id
| num ("." num)?
| "(" top ")"
| "[" top? "]"  # array
| '"' [^"]* '"' # string
| "`" [^`]* "`" # dynamic string
block:
| (indent top)+
| exp

id: [A-Za-z_][A-Za-z0-9_]
num: [0-9]+
op2: + - * / // % = += -= *= /= == != || && >= > <= < ->
indent: "\n" " "+

# FYI: Syntax of lisp
top: unit
unit:
| "("
| ")"
| '"' [^"]* '"'
| [^ \n]+
| [ \n]+
