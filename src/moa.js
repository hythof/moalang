const fs = require('fs')
const {parse} = require('./parse.js')
const {infer} = require('./infer.js')
const {compile} = require('./compile.js')

const src = fs.readFileSync('/dev/stdin', 'utf-8')
const runtime = fs.readFileSync(__dirname + '/runtime.js', 'utf-8')
const nodes = infer(parse(src))
const js = compile(src)
console.log(runtime)
//console.log(js)
